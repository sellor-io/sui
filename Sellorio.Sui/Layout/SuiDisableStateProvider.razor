@using Sellorio.Sui.Internal
@using Sellorio.Sui.Services
@inject IDialogService DialogService

<CascadingValue TValue="IDisableStateScope" Value="disableStateScope" IsFixed>
	<CascadingValue TValue="IDialogProvider" Value="disableStateScope!.DialogProvider" IsFixed ChildContent="ChildContent" />
</CascadingValue>

@code {
	DisableStateScope? disableStateScope;

	[CascadingParameter]
	public IDisableStateScope? ParentScope { get; set; }

	[Parameter]
	public RenderFragment? ChildContent { get; set; }

	protected override void OnInitialized()
	{
		disableStateScope = new(ParentScope, DialogService);
	}

	public void UpdateState(bool isDisabled)
	{
		disableStateScope?.UpdateState(isDisabled);
	}
}
